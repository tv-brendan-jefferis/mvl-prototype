{"version":3,"file":null,"sources":["../node_modules/comp/comp.js","../src/components/lib/unique-randoms.js","../src/components/lib/variant-utils.js","../src/components/config-data.js","../src/components/demo.js","../src/app.js"],"sourcesContent":["/* ____ ____ _  _ ___   \n*  |___ [__] |\\/| |--' . v1.2.0\n* \n* A design pattern and micro-framework for creating UI components\n*\n* Copyright Brendan Jefferis and other contributors\n* Released under the MIT license\n* \n* Issues? Please visit https://github.com/brendan-jefferis/comp/issues\n*\n* Date: 2017-01-02T05:23:18.349Z \n*/\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.comp = factory());\n}(this, (function () { 'use strict';\n\nfunction inspectSyntax(str) {\n    try {\n        new Function(str);\n    } catch (e) {\n        if (e instanceof SyntaxError) {\n            throw new SyntaxError(e);\n        }\n    }\n}\n\nfunction getEventTarget(event) {\n    event = event || window.event;\n    return event.target || event.srcElement;\n}\n\n/* eslint-disable no-nested-ternary */\nvar arr = [];\nvar charCodeCache = [];\n\nvar index = function (a, b) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\n\tvar aLen = a.length;\n\tvar bLen = b.length;\n\n\tif (aLen === 0) {\n\t\treturn bLen;\n\t}\n\n\tif (bLen === 0) {\n\t\treturn aLen;\n\t}\n\n\tvar bCharCode;\n\tvar ret;\n\tvar tmp;\n\tvar tmp2;\n\tvar i = 0;\n\tvar j = 0;\n\n\twhile (i < aLen) {\n\t\tcharCodeCache[i] = a.charCodeAt(i);\n\t\tarr[i] = ++i;\n\t}\n\n\twhile (j < bLen) {\n\t\tbCharCode = b.charCodeAt(j);\n\t\ttmp = j++;\n\t\tret = j;\n\n\t\tfor (i = 0; i < aLen; i++) {\n\t\t\ttmp2 = bCharCode === charCodeCache[i] ? tmp : tmp + 1;\n\t\t\ttmp = arr[i];\n\t\t\tret = arr[i] = tmp > ret ? tmp2 > ret ? ret + 1 : tmp2 : tmp2 > tmp ? tmp + 1 : tmp2;\n\t\t}\n\t}\n\n\treturn ret;\n};\n\nvar threshold = 3;\n\nfunction suggestActions(str, component) {\n    if (str == null) {\n        throw new Error(\"suggestActions requires a string argument to use as a query\");\n    }\n\n    if (component == null) {\n        throw new Error(\"suggestActions requires a component to search for actions\");\n    }\n\n    var suggestions = [];\n\n    Object.keys(component).map(function (actionName) {\n        var distance = index(str, actionName);\n        if (distance > threshold) {\n            return;\n        }\n\n        suggestions.push({ term: actionName, distance: distance });\n    });\n\n    return suggestions.sort(function (a, b) {\n        return a.distance > b.distance;\n    });\n}\n\nfunction registerEventDelegator(component) {\n    var componentHtmlTarget = document.querySelector(\"[data-component=\" + component.name + \"]\");\n    if (componentHtmlTarget === null) {\n        return component;\n    }\n\n    Object.keys(Event.prototype).map(function (ev, i) {\n        if (i >= 10 && i <= 19) {\n            componentHtmlTarget.addEventListener(ev.toLowerCase(), function (e) {\n                return delegateEvent(e, component, componentHtmlTarget);\n            });\n        }\n    }, this);\n\n    return component;\n}\n\nfunction delegateEvent(e, component, componentHtmlTarget) {\n    var target = getEventTarget(e);\n    var action = getEventActionFromElement(e, target, componentHtmlTarget);\n    if (action.name === \"\") {\n        return;\n    }\n\n    if (component[action.name] == null) {\n        var suggestions = suggestActions(action.name, component);\n        var suggestionsMessage = suggestions.length ? \"\\r\\n\\r\\nDid you mean\\r\\n\\r\\n\" + suggestions.map(function (x) {\n            return component.name + \".\" + x.term + \"\\n\";\n        }).join(\"\") + \"\\r\" : \"\";\n        throw new Error(\"Could not find action \" + action.name + \" in component \" + component.name + suggestionsMessage);\n    }\n\n    if (action.args === \"\") {\n        component[action.name]();\n    } else {\n        component[action.name].apply(action, action.args);\n    }\n}\n\nfunction bubbleUntilActionFound(event, element, root) {\n    var actionStr = element.getAttribute(\"data-\" + [event.type]) || \"\";\n    if (actionStr !== \"\" || element === root) {\n        try {\n            inspectSyntax(actionStr, element);\n        } catch (e) {\n            var tempDiv = document.createElement(\"div\");\n            tempDiv.appendChild(element.cloneNode(false));\n            throw new SyntaxError(\"\\r\\n\\r\\nElement: \" + tempDiv.innerHTML + \"\\r\\nEvent: data-\" + [event.type] + \"\\r\\nAction: \" + actionStr + \"\\r\\n\\r\\n\" + e);\n        }\n        return {\n            name: actionStr,\n            element: element\n        };\n    }\n\n    return bubbleUntilActionFound(event, element.parentNode, root);\n}\n\nfunction getEventActionFromElement(event, element, root) {\n    var action = bubbleUntilActionFound(event, element, root);\n\n    return {\n        name: extractActionName(action.name),\n        args: extractArguments(action.name, action.element)\n    };\n}\n\nfunction extractActionName(str) {\n    var nameResult = str.match(/[^(]*/);\n    return nameResult ? nameResult[0] : \"\";\n}\n\nfunction extractArguments(str, target) {\n    var args = /\\(\\s*([^)]+?)\\s*\\)/.exec(str);\n    if (!args || args[1] == null) {\n        return \"\";\n    }\n\n    args = args[1].split(/\\s*,\\s*/).map(function (arg) {\n        var argList = arg.split(\".\");\n        if (argList.length === 1 && argList.indexOf(\"this\") === -1) {\n            return arg;\n        }\n\n        var dataset = argList.indexOf(\"dataset\") === 1 ? Object.assign({}, target.dataset) : null;\n\n        return dataset ? dataset[argList[2]] : target[argList[1]];\n    }, target);\n\n    return args;\n}\n\nvar compEvents = Object.freeze({\n\tregisterEventDelegator: registerEventDelegator,\n\tdelegateEvent: delegateEvent,\n\tbubbleUntilActionFound: bubbleUntilActionFound,\n\tgetEventActionFromElement: getEventActionFromElement,\n\textractActionName: extractActionName,\n\textractArguments: extractArguments\n});\n\nvar parser = new window.DOMParser();\nvar htmlType = 'text/html';\nvar xhtmlType = 'application/xhtml+xml';\nvar testCode = '<i></i>';\nvar documentRootName = 'HTML';\nvar supportsHTMLType = false;\nvar supportsXHTMLType = false;\n\n// Check if browser supports text/html DOMParser\ntry {\n  /* istanbul ignore next: Fails in older browsers */\n  if (parser.parseFromString(testCode, htmlType)) supportsHTMLType = true;\n} catch (err) {}\n\ntry {\n  /* istanbul ignore next: Only used in ie9 */\n  if (!supportsHTMLType && parser.parseFromString(testCode, xhtmlType)) supportsXHTMLType = true;\n} catch (err) {}\n\n/**\n * Returns the results of a DOMParser as an HTMLElement.\n * (Shims for older browser and IE9).\n */\nvar parseHtml = supportsHTMLType\n  ? function parseHTML (markup, rootName) {\n    var doc = parser.parseFromString(markup, htmlType);\n    return rootName === documentRootName\n      ? doc.documentElement\n      : doc.body.firstChild\n  }\n  /* istanbul ignore next: Only used in older browsers */\n  : function parseHTML (markup, rootName) {\n    var isRoot = rootName === documentRootName;\n\n    // Special case for ie9 (documentElement.innerHTML not supported).\n    if (supportsXHTMLType && isRoot) {\n      return parser.parseFromString(markup, xhtmlType).documentElement\n    }\n\n    // Fallback to innerHTML for other older browsers.\n    var doc = document.implementation.createHTMLDocument('');\n    if (isRoot) {\n      doc.documentElement.innerHTML = markup;\n      return doc.documentElement\n    } else {\n      doc.body.innerHTML = markup;\n      return doc.body.firstChild\n    }\n  };\n\nvar parseHTML = parseHtml;\nvar KEY_PREFIX = '_set-dom-';\nvar NODE_INDEX = KEY_PREFIX + 'index';\nvar NODE_MOUNTED = KEY_PREFIX + 'mounted';\nvar ELEMENT_TYPE = window.Node.ELEMENT_NODE;\nvar DOCUMENT_TYPE = window.Node.DOCUMENT_NODE;\nsetDOM.KEY = 'data-key';\nsetDOM.IGNORE = 'data-ignore';\nsetDOM.CHECKSUM = 'data-checksum';\n\nvar index$1 = setDOM;\n\n/**\n * @description\n * Updates existing dom to match a new dom.\n *\n * @param {Node} prev - The html entity to update.\n * @param {String|Node} next - The updated html(entity).\n */\nfunction setDOM (prev, next) {\n  // Ensure a realish dom node is provided.\n  assert(prev && prev.nodeType, 'You must provide a valid node to update.');\n\n  // Alias document element with document.\n  if (prev.nodeType === DOCUMENT_TYPE) prev = prev.documentElement;\n\n  // If a string was provided we will parse it as dom.\n  if (typeof next === 'string') next = parseHTML(next, prev.nodeName);\n\n  // Update the node.\n  setNode(prev, next);\n\n  // Trigger mount events on initial set.\n  if (!prev[NODE_MOUNTED]) {\n    prev[NODE_MOUNTED] = true;\n    mount(prev);\n  }\n}\n\n/**\n * @private\n * @description\n * Updates a specific htmlNode and does whatever it takes to convert it to another one.\n *\n * @param {Node} prev - The previous HTMLNode.\n * @param {Node} next - The updated HTMLNode.\n */\nfunction setNode (prev, next) {\n  if (prev.nodeType === next.nodeType) {\n    // Handle regular element node updates.\n    if (prev.nodeType === ELEMENT_TYPE) {\n      // Ignore elements if their checksum matches.\n      if (getCheckSum(prev) === getCheckSum(next)) return\n      // Ignore elements that explicity choose not to be diffed.\n      if (isIgnored(prev) && isIgnored(next)) return\n\n      // Update all children (and subchildren).\n      setChildNodes(prev, prev.childNodes, next.childNodes);\n\n      // Update the elements attributes / tagName.\n      if (prev.nodeName === next.nodeName) {\n        // If we have the same nodename then we can directly update the attributes.\n        setAttributes(prev, prev.attributes, next.attributes);\n      } else {\n        // Otherwise clone the new node to use as the existing node.\n        var newPrev = next.cloneNode();\n        // Copy over all existing children from the original node.\n        while (prev.firstChild) newPrev.appendChild(prev.firstChild);\n        // Replace the original node with the new one with the right tag.\n        prev.parentNode.replaceChild(newPrev, prev);\n      }\n    } else {\n      // Handle other types of node updates (text/comments/etc).\n      // If both are the same type of node we can update directly.\n      if (prev.nodeValue !== next.nodeValue) {\n        prev.nodeValue = next.nodeValue;\n      }\n    }\n  } else {\n    // we have to replace the node.\n    dismount(prev);\n    prev.parentNode.replaceChild(next, prev);\n    mount(next);\n  }\n}\n\n/**\n * @private\n * @description\n * Utility that will update one list of attributes to match another.\n *\n * @param {Node} parent - The current parentNode being updated.\n * @param {NamedNodeMap} prev - The previous attributes.\n * @param {NamedNodeMap} next - The updated attributes.\n */\nfunction setAttributes (parent, prev, next) {\n  var i, a, b, ns, name;\n\n  // Remove old attributes.\n  for (i = prev.length; i--;) {\n    a = prev[i];\n    ns = a.namespaceURI;\n    name = a.localName;\n    b = next.getNamedItemNS(ns, name);\n    if (!b) prev.removeNamedItemNS(ns, name);\n  }\n\n  // Set new attributes.\n  for (i = next.length; i--;) {\n    a = next[i];\n    ns = a.namespaceURI;\n    name = a.localName;\n    b = prev.getNamedItemNS(ns, name);\n    if (!b) {\n      // Add a new attribute.\n      next.removeNamedItemNS(ns, name);\n      prev.setNamedItemNS(a);\n    } else if (b.value !== a.value) {\n      // Update existing attribute.\n      b.value = a.value;\n    }\n  }\n}\n\n/**\n * @private\n * @description\n * Utility that will update one list of childNodes to match another.\n *\n * @param {Node} parent - The current parentNode being updated.\n * @param {NodeList} prevChildNodes - The previous children.\n * @param {NodeList} nextChildNodes - The updated children.\n */\nfunction setChildNodes (parent, prevChildNodes, nextChildNodes) {\n  var key, a, b, newPosition, nextEl;\n\n  // Convert nodelists into a usuable map.\n  var prev = keyNodes(prevChildNodes);\n  var next = keyNodes(nextChildNodes);\n\n  // Remove old nodes.\n  for (key in prev) {\n    if (next[key]) continue\n    // Trigger custom dismount event.\n    dismount(prev[key]);\n    // Remove child from dom.\n    parent.removeChild(prev[key]);\n  }\n\n  // Set new nodes.\n  for (key in next) {\n    a = prev[key];\n    b = next[key];\n    // Extract the position of the new node.\n    newPosition = b[NODE_INDEX];\n\n    if (a) {\n      // Update an existing node.\n      setNode(a, b);\n      // Check if the node has moved in the tree.\n      if (a[NODE_INDEX] === newPosition) continue\n      // Get the current element at the new position.\n      /* istanbul ignore next */\n      nextEl = prevChildNodes[newPosition] || null; // TODO: figure out if || null is needed.\n      // Check if the node has already been properly positioned.\n      if (nextEl === a) continue\n      // Reposition node.\n      parent.insertBefore(a, nextEl);\n    } else {\n      // Get the current element at the new position.\n      nextEl = prevChildNodes[newPosition] || null;\n      // Append the new node at the correct position.\n      parent.insertBefore(b, nextEl);\n      // Trigger custom mounted event.\n      mount(b);\n    }\n  }\n}\n\n/**\n * @private\n * @description\n * Converts a nodelist into a keyed map.\n * This is used for diffing while keeping elements with 'data-key' or 'id' if possible.\n *\n * @param {NodeList} childNodes - The childNodes to convert.\n * @return {Object}\n */\nfunction keyNodes (childNodes) {\n  var result = {};\n  var len = childNodes.length;\n  var el;\n\n  for (var i = 0; i < len; i++) {\n    el = childNodes[i];\n    el[NODE_INDEX] = i;\n    result[getKey(el) || i] = el;\n  }\n\n  return result\n}\n\n/**\n * @private\n * @description\n * Utility to try to pull a key out of an element.\n * Uses 'data-key' if possible and falls back to 'id'.\n *\n * @param {Node} node - The node to get the key for.\n * @return {String}\n */\nfunction getKey (node) {\n  if (node.nodeType !== ELEMENT_TYPE) return\n  var key = node.getAttribute(setDOM.KEY) || node.id;\n  if (key) key = KEY_PREFIX + key;\n  return key && KEY_PREFIX + key\n}\n\n/**\n * @private\n * @description\n * Utility to try to pull a checksum attribute from an element.\n * Uses 'data-checksum' or user specified checksum property.\n *\n * @param {Node} node - The node to get the checksum for.\n * @return {String|NaN}\n */\nfunction getCheckSum (node) {\n  return node.getAttribute(setDOM.CHECKSUM) || NaN\n}\n\n/**\n * @private\n * @description\n * Utility to try to check if an element should be ignored by the algorithm.\n * Uses 'data-ignore' or user specified ignore property.\n *\n * @param {Node} node - The node to check if it should be ignored.\n * @return {Boolean}\n */\nfunction isIgnored (node) {\n  return node.getAttribute(setDOM.IGNORE) != null\n}\n\n/**\n * Recursively trigger a mount event for a node and it's children.\n *\n * @param {Node} node - the initial node to be mounted.\n */\nfunction mount (node) {\n  // Trigger mount event for this element if it has a key.\n  if (getKey(node)) dispatch(node, 'mount');\n\n  // Mount all children.\n  var child = node.firstChild;\n  while (child) {\n    mount(child);\n    child = child.nextSibling;\n  }\n}\n\n/**\n * Recursively trigger a dismount event for a node and it's children.\n *\n * @param {Node} node - the initial node to be dismounted.\n */\nfunction dismount (node) {\n  // Dismount all children.\n  var child = node.firstChild;\n  while (child) {\n    dismount(child);\n    child = child.nextSibling;\n  }\n\n  // Trigger dismount event for this element if it has a key.\n  if (getKey(node)) dispatch(node, 'dismount');\n}\n\n/**\n * @private\n * @description\n * Create and dispatch a custom event.\n *\n * @param {Node} el - the node to dispatch the event for.\n * @param {String} type - the name of the event.\n */\nfunction dispatch (el, type) {\n  var e = document.createEvent('Event');\n  var prop = { value: el };\n  e.initEvent(type, false, false);\n  Object.defineProperty(e, 'target', prop);\n  Object.defineProperty(e, 'srcElement', prop);\n  el.dispatchEvent(e);\n}\n\n/**\n * @private\n * @description\n * Confirm that a value is truthy, throws an error message otherwise.\n *\n * @param {*} val - the val to test.\n * @param {String} msg - the error message on failure.\n * @throws Error\n */\nfunction assert (val, msg) {\n  if (!val) throw new Error('set-dom: ' + msg)\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar index$3 = createCommonjsModule(function (module, exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var chars={\"&\":\"&amp;\",\">\":\"&gt;\",\"<\":\"&lt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"`\":\"&#96;\"};var re=new RegExp(Object.keys(chars).join(\"|\"),\"g\");exports[\"default\"]=function(){var str=arguments.length<=0||arguments[0]===undefined?\"\":arguments[0];return String(str).replace(re,function(match){return chars[match]})};module.exports=exports[\"default\"];\n});\n\nvar index$2 = createCommonjsModule(function (module, exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var _htmlEs6cape=index$3;var _htmlEs6cape2=_interopRequireDefault(_htmlEs6cape);exports[\"default\"]=function(literals){for(var _len=arguments.length,substs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){substs[_key-1]=arguments[_key];}return literals.raw.reduce(function(acc,lit,i){var subst=substs[i-1];if(Array.isArray(subst)){subst=subst.join(\"\");}else{subst=(0,_htmlEs6cape2[\"default\"])(subst);}return acc+subst+lit})};module.exports=exports[\"default\"];\n});\n\nvar html = unwrapExports(index$2);\n\nvar components = {};\n\nfunction componentize(name, actions, render, model) {\n    render(model);\n    var component = {};\n    Object.keys(actions).map(function (action) {\n        component[action] = function () {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            var returnValue = actions[action].apply(actions, args);\n\n            if (returnValue && returnValue.then) {\n                handlePromise(returnValue, render);\n            }\n            render(model);\n        };\n    }, this);\n    component.name = name;\n    component.get = function (prop) {\n        return model[prop];\n    };\n    return component;\n}\n\nfunction handlePromise(promise, render) {\n    promise.then(function (updatedModel) {\n        if (updatedModel == null) {\n            throw new Error(\"No model received: aborting render\");\n        }\n        render(updatedModel);\n    }).catch(function (err) {\n        if (typeof err === \"string\") {\n            console.error(err);\n        } else {\n            console.error(\"Error unhandled by component. Add a catch handler to your AJAX method.\");\n        }\n    });\n}\n\nfunction create(name, actions, view, model) {\n    if (name == null || name === \"\") {\n        throw new Error(\"Your component needs a name\");\n    }\n\n    if (actions == null) {\n        var example = \"// It must be a function that takes a model and returns an object of functions, e.g.\\r\\n\\r\\nYourComponent.Actions = function (model) {\\r\\n    return {\\r\\n        sayHello: function () { console.log('Hi.'); },\\r\\n        greet: function (name) { console.log('Hello, ' + name); }\\r\\n    }\\r\\n}\";\n        throw new Error(name + \" needs some actions! Here's an example of an Actions function:\\r\\n\\r\\n\" + example + \"\\r\\n\\r\\n\");\n    }\n\n    var _view = view && view();\n    var viewInit = _view && _view.init ? _view.init : function () {};\n    var viewRender = _view && _view.render ? function (_model) {\n        var htmlString = _view.render(_model, html);\n        if (typeof document !== \"undefined\" && htmlString) {\n            var target = document.querySelector(\"[data-component=\" + name + \"]\");\n            if (target) {\n                if (target.innerHTML === \"\") {\n                    target.innerHTML = htmlString;\n                } else {\n                    index$1(target.firstElementChild, htmlString);\n                }\n            }\n        }\n    } : function () {};\n\n    var component = componentize(name, actions(model), viewRender, model);\n    components[name] = component;\n\n    if (typeof document !== \"undefined\" && typeof compEvents !== \"undefined\") {\n        component = registerEventDelegator(component);\n    }\n\n    viewInit(component, model);\n\n    return component;\n}\n\nvar comp = {\n    components: components,\n    create: create\n};\n\nreturn comp;\n\n})));\n","export default function(count, max) {\r\n    let randoms = [];\r\n    while(randoms.length !== count) {\r\n        let rand = Math.floor(Math.random() * max);\r\n        if (randoms.indexOf(rand) === -1) {\r\n            randoms.push(rand);\r\n        }\r\n    }\r\n    return randoms.sort();\r\n}\r\n","import uniqueRandoms from \"./unique-randoms\";\r\n\r\nfunction optionValues(o) {\r\n    return {\r\n        name: o.name,\r\n        value: o.value\r\n    };\r\n}\r\n\r\nfunction applyRule(rule, option) {\r\n    switch(rule) {\r\n        case \"grey-out\":\r\n            option.greyedOut = true;\r\n            option.disabled = false;\r\n            option.excluded = false;\r\n            break;\r\n\r\n        case \"disable\":\r\n            option.greyedOut = false;\r\n            option.disabled = true;\r\n            option.excluded = false;\r\n            break;\r\n\r\n        case \"exclude\":\r\n            option.greyedOut = false;\r\n            option.disabled = false;\r\n            option.excluded = true;\r\n            break;\r\n\r\n        default:\r\n            option.greyedOut = false;\r\n            option.disabled = false;\r\n            option.excluded = false;\r\n            break;\r\n    }\r\n    return option;\r\n}\r\n\r\nfunction setRandomOutOfStock(count, variants) {\r\n    let randoms = uniqueRandoms(count, variants.length);\r\n    randoms.map(i => { variants[i].quantity = 0 });\r\n    return variants;\r\n}\r\n\r\nfunction setRandomNull(count, variants) {\r\n    let randoms = uniqueRandoms(count, variants.length);\r\n    variants = variants.filter((v, i) => randoms.indexOf(i) === -1);\r\n    return variants;\r\n}\r\n\r\nexport function validateCurrentSelection(currentDimension, selectedOptions, optionSets, variants) {\r\n    let currentSelectionUnavailable = {};\r\n\r\n    if (Object.keys(selectedOptions).filter(x => selectedOptions[x] !== \"\").length === optionSets.length) {\r\n        const variant = variants.find(variantExtractor(selectedOptions));\r\n        if (!variant) {\r\n            currentSelectionUnavailable = Object.assign({}, selectedOptions);\r\n            Object.keys(currentSelectionUnavailable).map(o => currentSelectionUnavailable[o] = true);\r\n            return currentSelectionUnavailable;\r\n        }\r\n    }\r\n\r\n    if (!currentDimension) {\r\n        return {};\r\n    }\r\n\r\n    const otherOptions = Object.keys(selectedOptions).filter(x => selectedOptions[x] !== \"\" && x !== currentDimension);\r\n    for (let i = 0; i < otherOptions.length; i++) {\r\n        const queryOptions = {};\r\n        if (selectedOptions[currentDimension] !== \"\") {\r\n            queryOptions[currentDimension] = selectedOptions[currentDimension];\r\n        }\r\n        queryOptions[otherOptions[i]] = selectedOptions[otherOptions[i]];\r\n        const matchingVariants = variants.filter(variantExtractor(queryOptions));\r\n        currentSelectionUnavailable[otherOptions[i]] = matchingVariants.length === 0;\r\n    }\r\n    return currentSelectionUnavailable;\r\n}\r\n\r\nexport function validateOptionSets(selectedOptions, optionSets, variants, ruleOutOfStock) {\r\n    for (let i = 0; i < optionSets.length; i++) {\r\n        const otherOptions = Object.keys(selectedOptions).filter(x => selectedOptions[x] !== \"\" && x !== optionSets[i].optionName);\r\n        const queryOptions = {};\r\n        for (let j = 0; j < otherOptions.length; j ++) {\r\n            queryOptions[otherOptions[j]] = selectedOptions[otherOptions[j]];\r\n        }\r\n        for (let j = 0; j < optionSets[i].optionValues.length; j++ ) {\r\n            const optValue = optionSets[i].optionValues[j];\r\n            queryOptions[optionSets[i].optionName] = optValue.name;\r\n            const matchingVariants = variants.filter(variantExtractor(queryOptions));\r\n            applyRule(matchingVariants.length === 0 ? ruleOutOfStock : \"\", optValue);\r\n        }\r\n    }\r\n    return optionSets;\r\n}\r\n\r\nexport function variantGenerator(options) {\r\n    let randomSamples = [];\r\n    let variants = [];\r\n    let counter = 0;\r\n    let usedSkus = {};\r\n    let optionSets = [];\r\n\r\n    for (let i = 0; i < options.optionSets.length; i++) {\r\n        const set = options.optionSets[i];\r\n        const randoms = uniqueRandoms(set.count, set.optionValues.length);\r\n        const values = randoms.map(i => set.optionValues[i]);\r\n        optionSets.push({\r\n            count: set.count,\r\n            nullCount: set.nullCount,\r\n            oosCount: set.oosCount,\r\n            optionName: set.optionName,\r\n            optionValues: values\r\n        });\r\n    }\r\n\r\n    for (let i = 0; i < 5000; i++) {\r\n        randomSamples.push({\r\n            sku: '',\r\n            optionValues: [],\r\n            price: parseFloat((10 + Math.random() * 10).toFixed(2)),\r\n            quantity: 1 + Math.floor((Math.random() * 30))\r\n        });\r\n\r\n        for (let j = 0; j < optionSets.length; j++) {\r\n            const random = Math.floor(Math.random() * optionSets[j].optionValues.length);\r\n            const neo = optionSets[j].optionValues[random];\r\n\r\n            randomSamples[i].optionValues.push({\r\n                name: optionSets[j].optionName,\r\n                value: neo\r\n            });\r\n\r\n            randomSamples[i].sku += neo.replace(\" \", \"_\") + '-';\r\n        }\r\n\r\n        if (!usedSkus[randomSamples[i].sku] && counter < options.variantCount) {\r\n            const v = randomSamples[i];\r\n            variants.push({\r\n                sku: v.sku,\r\n                price: v.price,\r\n                quantity: v.quantity,\r\n                optionValues: v.optionValues.map(optionValues)\r\n            });\r\n\r\n            usedSkus[randomSamples[i].sku] = true;\r\n            counter++;\r\n        }\r\n    }\r\n\r\n    if (options.oosCount > 0) {\r\n        variants = setRandomOutOfStock(options.oosCount, variants);\r\n    }\r\n\r\n    if (options.nullCount > 0) {\r\n        variants = setRandomNull(options.nullCount, variants);\r\n    }\r\n\r\n    for (let i = 0; i < optionSets.length; i++) {\r\n        let set = optionSets[i];\r\n        if (set.nullCount > 0) {\r\n            const randoms = uniqueRandoms(set.nullCount, set.optionValues.length);\r\n            const nullOptions = randoms.map(i => set.optionValues[i]);\r\n            variants = variants.filter(v => {\r\n                const option = v.optionValues.find(o => o.name === set.optionName);\r\n                return nullOptions.indexOf(option.value) === -1;\r\n            });\r\n        }\r\n    }\r\n\r\n    for (let i = 0; i < optionSets.length; i++) {\r\n        let set = optionSets[i];\r\n        if (set.oosCount > 0) {\r\n            const randoms = uniqueRandoms(set.oosCount, set.optionValues.length);\r\n            const oosOptions = randoms.map(i => set.optionValues[i]);\r\n            variants.map(v => {\r\n                const option = v.optionValues.find(o => o.name === set.optionName);\r\n                if (oosOptions.indexOf(option.value) !== -1) {\r\n                    v.quantity = 0;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        optionSets: optionSets,\r\n        variants: variants\r\n    };\r\n}\r\n\r\nexport function variantExtractor(selectedOptions, propList) {\r\n    propList = propList ? propList : Object.keys(selectedOptions);\r\n    return variant => {\r\n        return propList.map(optionName => {\r\n            return variant.quantity > 0 && variant.optionValues.find(x => x.name === optionName).value === selectedOptions[optionName];\r\n        }).every(x => x === true);\r\n    }\r\n}\r\n\r\nexport function getSelectedOptionsFromVariant(variant) {\r\n    let options = {};\r\n    variant.optionValues.map(function (x) {\r\n        this[x.name] = x.value;\r\n    }, options);\r\n\r\n    return options;\r\n}","import { variantGenerator } from \"./lib/variant-utils\";\r\nimport comp from \"comp\";\r\n\r\nexport default {\r\n\t\r\n\tmodel: {\r\n\t    sectionVisible: true,\r\n\t\toptionSets: [\r\n            { optionName: \"Colour\", count: 3, nullCount: 0, oosCount: 0, optionValues: [\r\n                \"white\",\r\n                \"silver\",\r\n                \"gray\",\r\n                \"black\",\r\n                \"navy\",\r\n                \"blue\",\r\n                \"cerulean\",\r\n                \"sky blue\",\r\n                \"turquoise\",\r\n                \"azure\",\r\n                \"teal\",\r\n                \"cyan\",\r\n                \"green\",\r\n                \"lime\",\r\n                \"chartreuse\",\r\n                \"olive\",\r\n                \"yellow\",\r\n                \"gold\",\r\n                \"amber\",\r\n                \"orange\",\r\n                \"brown\",\r\n                \"red\",\r\n                \"maroon\",\r\n                \"rose\",\r\n                \"pink\",\r\n                \"magenta\",\r\n                \"purple\",\r\n                \"indigo\",\r\n                \"violet\",\r\n                \"plum\"] },\r\n            { optionName: \"Size\", count: 3, nullCount: 0, oosCount: 0, optionValues: [\r\n                \"3XS\",\r\n                \"2XS\",\r\n                \"XS\",\r\n                \"M\",\r\n                \"L\",\r\n                \"XL\",\r\n                \"2XL\",\r\n                \"3L\",\r\n                \"4XL\",\r\n                \"5XL\",\r\n                \"6XL\",\r\n                \"000\",\r\n                \"00\",\r\n                \"0\",\r\n                \"2\",\r\n                \"4\",\r\n                \"6\",\r\n                \"8\",\r\n                \"10\",\r\n                \"12\",\r\n                \"14\",\r\n                \"16\",\r\n                \"18\",\r\n                \"20\",\r\n                \"22\",\r\n                \"24\",\r\n                \"26\",\r\n                \"28\",\r\n                \"30\",\r\n                \"32\"\r\n            ] },\r\n            { optionName: \"Logo\", count: 3, nullCount: 0, oosCount: 0, optionValues: [\r\n                \"Boston Bruins\",\r\n                \"Buffalo Sabres\",\r\n                \"Detroit Red Wings\",\r\n                \"Florida Panthers\",\r\n                \"Montreal Canadiens\",\r\n                \"Ottawa Senators\",\r\n                \"Tampa Bay Lightning\",\r\n                \"Toronto Maple Leafs\",\r\n                \"Carolina Hurricanes\",\r\n                \"Columbus Blue Jackets\",\r\n                \"New Jersey Devils\",\r\n                \"New York Islanders\",\r\n                \"New York Rangers\",\r\n                \"Philadelphia Flyers\",\r\n                \"Pittsburgh Penguins\",\r\n                \"Washington Capitals\",\r\n                \"Anaheim Ducks\",\r\n                \"Arizona Coyotes\",\r\n                \"Calgary Flames\",\r\n                \"Edmonton Oilers\",\r\n                \"Los Angeles Kings\",\r\n                \"San Jose Sharks\",\r\n                \"Vancouver Canucks\",\r\n                \"Chicago Blackhawks\",\r\n                \"Colorado Avalanche\",\r\n                \"Dallas Stars\",\r\n                \"Minnesota Wild\",\r\n                \"Nashville Predators\",\r\n                \"St. Louis Blues\",\r\n                \"Winnipeg Jets\"\r\n            ] },\r\n            { optionName: \"Fabric\", count: 0, nullCount: 0, oosCount: 0, optionValues: [\r\n                \"Cotton\",\r\n                \"Leather\",\r\n                \"Canvas\",\r\n                \"Sack-cloth\",\r\n                \"Denim\",\r\n                \"Satin\",\r\n                \"Silk\",\r\n                \"Suede\",\r\n                \"Crushed velvet\",\r\n                \"Velour\",\r\n                \"Fishnet\",\r\n                \"Flannel\",\r\n                \"Wool\",\r\n                \"Cheesecloth\",\r\n                \"Cashmere\",\r\n                \"Gingham\",\r\n                \"Horsehair\",\r\n                \"Lambswool\",\r\n                \"Possum fur\",\r\n                \"Feathers\",\r\n                \"Moleskin\",\r\n                \"Nylon\",\r\n                \"Polyester\",\r\n                \"Lace\",\r\n                \"Ultrasuede\",\r\n                \"Wolf pelt\",\r\n                \"Spider silk\",\r\n                \"Vegan leather\",\r\n                \"PVC\",\r\n                \"Twill\"] },\r\n            { optionName: \"Gull\", count: 0, nullCount: 0, oosCount: 0, optionValues: [\r\n                \"Pacific gull\",\r\n                \"Belcher gull\",\r\n                \"Olror gull\",\r\n                \"Black-tailed gull\",\r\n                \"Heermann gull\",\r\n                \"Common gull\",\r\n                \"Ring-billed gull\",\r\n                \"California gull\",\r\n                \"Great black-backed gull\",\r\n                \"Kelp gull\",\r\n                \"Cape gull\",\r\n                \"Glaucous-winged gull\",\r\n                \"Western gull\",\r\n                \"Yellow-footed gull\",\r\n                \"Glaucous gull\",\r\n                \"Iceland gull\",\r\n                \"Kumlien gull\",\r\n                \"Thayer gull\",\r\n                \"European herring gull\",\r\n                \"American herring gull\",\r\n                \"Caspian gull\",\r\n                \"Yellow-legged gull\",\r\n                \"East Siberian herring gull\",\r\n                \"Armenian gull\",\r\n                \"Slaty-backed gull\",\r\n                \"Lesser black-backed gull\",\r\n                \"Heuglin gull\",\r\n                \"Mediterranean gull\",\r\n                \"White-eyed gull\",\r\n                \"Sooty gull\"\r\n            ]}\r\n\t\t],\r\n        variantCount: 5,\r\n        oosCount: 1,\r\n        nullCount: 0,\r\n        variants: [],\r\n        rulesList: [\"grey-out\", \"disable\", \"exclude\"],\r\n        ruleOutOfStock: \"grey-out\",\r\n        preselectOptionsOnLoad: true,\r\n        preselectOutOfStock: false\r\n\t},\r\n\r\n\tactions(model) {\r\n\r\n\t    function optionValueToSelectListItem(optionSet) {\r\n\t        let optionValues = [];\r\n\r\n\t        for (let i = 0; i < optionSet.optionValues.length; i++) {\r\n\t            optionValues.push({\r\n\t                name: optionSet.optionValues[i]\r\n                });\r\n            }\r\n\r\n            return {\r\n                optionName: optionSet.optionName,\r\n                optionValues: optionValues\r\n            };\r\n        }\r\n\r\n\t\treturn {\r\n            toggleSectionVisible() {\r\n                model.sectionVisible = !model.sectionVisible;\r\n            },\r\n\t\t    updateOptionSetCount(optionName, count) {\r\n                model.optionSets.map(x => {\r\n                    if (x.optionName === optionName) {\r\n                        x.count = parseInt(count, 10);\r\n                    }\r\n                });\r\n            },\r\n            updateOptionSetOosCount(optionName, count) {\r\n                model.optionSets.map(x => {\r\n                    if (x.optionName === optionName) {\r\n                        x.oosCount = parseInt(count, 10);\r\n                    }\r\n                });\r\n            },\r\n            updateOptionSetNullCount(optionName, count) {\r\n                model.optionSets.map(x => {\r\n                    if (x.optionName === optionName) {\r\n                        x.nullCount = parseInt(count, 10);\r\n                    }\r\n                });\r\n            },\r\n            updateRule(ruleName, value) {\r\n                model[ruleName] = value;\r\n            },\r\n            updateVariantCount(val) {\r\n                model.variantCount = parseInt(val, 10);\r\n            },\r\n\t\t    updateOosCount(val) {\r\n                const count = parseInt(val, 10);\r\n\t\t        model.oosCount = count <= model.variantCount ? count : model.variantCount;\r\n            },\r\n            updateNullCount(val) {\r\n                const count = parseInt(val, 10);\r\n                model.nullCount = count <= model.variantCount ? count : model.variantCount;\r\n            },\r\n            setPreselectOptions(checked) {\r\n                model.preselectOptionsOnLoad = checked;\r\n            },\r\n            setPreselectOutOfStock(checked) {\r\n                model.preselectOutOfStock = checked;\r\n            },\r\n\t\t\tgenerateData() {\r\n                const options = Object.assign({}, model);\r\n                options.optionSets = model.optionSets.filter(x => x.count > 0);\r\n                const data = variantGenerator(options);\r\n                model.variants = data.variants;\r\n                let optionSets = data.optionSets.map(optionValueToSelectListItem);\r\n                comp.components.demo.importData(optionSets, model.variants, model.ruleOutOfStock, model.ruleNullVariant, model.preselectOptionsOnLoad, model.preselectOutOfStock);\r\n                model.sectionVisible = false;\r\n\t\t\t} \r\n\t\t}\r\n\t},\r\n\r\n\tview() {\r\n\r\n\t    function renderOptionSet(optionSet) {\r\n\t        return `\r\n                <div class=\"option-set\">\r\n                    <h4>${optionSet.optionName} options</h4>\r\n                    <p>\r\n                        <label>Count</label>\r\n                        <input data-change=\"updateOptionSetCount(${optionSet.optionName}, this.value)\" type=\"number\" value=\"${optionSet.count}\" min=\"0\" max=\"30\">\r\n                    </p>\r\n                    <p>\r\n                        <label>Out of stock</label>\r\n                        <input data-change=\"updateOptionSetOosCount(${optionSet.optionName}, this.value)\" type=\"number\" value=\"${optionSet.oosCount}\" min=\"0\" max=\"30\">\r\n                    </p>\r\n                    <p>\r\n                        <label>Null</label>\r\n                        <input data-change=\"updateOptionSetNullCount(${optionSet.optionName}, this.value)\" type=\"number\" value=\"${optionSet.nullCount}\" min=\"0\" max=\"30\">\r\n                    </p>\r\n                </div>\r\n            `;\r\n        }\r\n\r\n        function renderRadioButtons(listName, item, defaultValue) {\r\n\t        return `\r\n\t            <input data-change=\"updateRule(this.name, this.value)\" name=\"${listName}\" value=\"${item}\" type=\"radio\" id=\"${listName}-${item}-radio\" ${item === defaultValue ? \"checked\": \"\"}/>\r\n\t            <label for=\"${listName}-${item}-radio\">${item}</label>\r\n            `;\r\n        }\r\n\r\n\t\treturn {\r\n\t\t\trender(model, html) {\r\n\t\t\t\treturn html`\r\n                    <div>\r\n                        <a href=\"#\" data-click=\"toggleSectionVisible\">${model.sectionVisible ? `- Hide data options` : `+ Show data options`}</a>\r\n                        \r\n                        <div style=\"${model.sectionVisible ? \"\" : \"display: none\"}\">\r\n                            <h2>Data</h2>\r\n                            <div class=\"option-sets\">\r\n                                ${model.optionSets.map(renderOptionSet)}\r\n                            </div>\r\n                            <br>\r\n                            <p>\r\n                                <label>Variant count</label>\r\n                                <input data-change=\"updateVariantCount(this.value)\" type=\"number\" value=\"${model.variantCount}\" min=\"0\" max=\"150\">\r\n                            </p>\r\n                            <p>\r\n                                <label>Random out of stock variants</label>\r\n                                <input data-change=\"updateOosCount(this.value)\" type=\"number\" value=\"${model.oosCount}\" min=\"0\" max=\"${model.variantCount}\">\r\n                            </p>\r\n                            <p>\r\n                                <label>Random null variants</label>\r\n                                <input data-change=\"updateNullCount(this.value)\" type=\"number\" value=\"${model.nullCount}\" min=\"0\" max=\"${model.variantCount}\">\r\n                            </p>\r\n                            <hr>\r\n                            <h2>Rules</h2>\r\n                            <div class=\"option-sets\">\r\n                                <div class=\"option-set\">\r\n                                    <h4>Out of stock</h4>\r\n                                    ${model.rulesList.map(x => renderRadioButtons(\"ruleOutOfStock\", x, model.ruleOutOfStock)) }\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"checkbox\" data-change=\"setPreselectOptions(this.checked)\" id=\"preselect-options\" ${model.preselectOptionsOnLoad ? \"checked\" : \"\"}>\r\n                            <label for=\"preselect-options\">Pre-select options on load</label>\r\n                            <input type=\"checkbox\" data-change=\"setPreselectOutOfStock(this.checked)\" id=\"preselect-out-of-stock\" ${model.preselectOutOfStock ? \"checked\" : \"\"}>\r\n                            <label for=\"preselect-out-of-stock\">Pre-select out of stock variant</label>\r\n                            <hr>\r\n                            <button data-click=\"generateData\" type=\"button\">Generate data</button>\r\n                        </div>\r\n                    </div>\r\n\t\t\t\t`;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import { variantExtractor, getSelectedOptionsFromVariant, validateCurrentSelection, validateOptionSets } from \"./lib/variant-utils\";\r\n\r\nexport default {\r\n    model: {\r\n        optionSets: [],\r\n        variants: [],\r\n        selectedOptions: {},\r\n        selectedVariant: null,\r\n        canBuyNow: false,\r\n        ruleOutOfStock: \"\",\r\n        ruleNullVariant: \"\",\r\n        variantSectionVisible: false,\r\n        currentSelectionUnavailable: {}\r\n    },\r\n\r\n    actions(model) {\r\n\r\n        function updateOptionSets(_model, currentDimension) {\r\n            model.currentSelectionUnavailable = validateCurrentSelection(currentDimension, _model.selectedOptions, _model.optionSets, _model.variants);\r\n            return validateOptionSets(_model.selectedOptions, _model.optionSets, _model.variants, _model.ruleOutOfStock);\r\n        }\r\n\r\n        return {\r\n            importData(optionSets, variants, ruleOutOfStock, ruleNull, preselectOptionsOnLoad, preselectOutOfStock) {\r\n                model.optionSets = optionSets;\r\n                model.variants = variants;\r\n                model.ruleOutOfStock = ruleOutOfStock;\r\n                model.ruleNullVariant = ruleNull;\r\n                model.selectedVariant = preselectOutOfStock\r\n                    ? model.variants.find(v => v.quantity === 0)\r\n                    : model.variants.find(v => v.quantity !== 0);\r\n                if (model.selectedVariant) {\r\n                    model.selectedOptions = preselectOptionsOnLoad || preselectOutOfStock\r\n                        ? getSelectedOptionsFromVariant(model.selectedVariant)\r\n                        : {};\r\n                }\r\n                model.optionSets = updateOptionSets(model);\r\n                model.canBuyNow = model.selectedVariant && model.selectedVariant.quantity > 0;\r\n            },\r\n            setSelectedOption(key, value) {\r\n                model.selectedOptions[key] = value;\r\n                model.optionSets = updateOptionSets(model, key);\r\n                if (Object.keys(model.selectedOptions).length === model.variants[0].optionValues.length) {\r\n                    model.selectedVariant = model.variants.find(variantExtractor(model.selectedOptions));\r\n                    model.canBuyNow = model.selectedVariant && model.selectedVariant.quantity > 0;\r\n                }\r\n            },\r\n            buyNow() {\r\n                alert(`Congratulations, you fake bought \\r\\n${model.selectedVariant.sku}\\r\\n`);\r\n            },\r\n            toggleVariantSectionVisible() {\r\n                model.variantSectionVisible = !model.variantSectionVisible;\r\n            }\r\n        }\r\n    },\r\n\r\n    view() {\r\n        function renderSelectListItem(selectedOption, item) {\r\n            let className = item.greyedOut || item.disabled ? \"unavailable\" : \"\";\r\n            if (item.greyedOut) {\r\n                className += \"greyed-out\";\r\n            } else if (item.disabled) {\r\n                className += \"disabled\";\r\n            }\r\n            return item.excluded\r\n                ? \"\"\r\n                : `\r\n                    <option value=\"${item.name}\" ${item.disabled ? \"disabled\" : \"\"}\r\n                        class=\"${className}\"\r\n                        style=\"${item.greyedOut ? \"color:#aaa;\": \"\"}${item.disabled ? \"color:crimson;\": \"\"}\"\r\n                        ${selectedOption === item.name ? \"selected\" : \"\"}>\r\n                        ${item.name} ${item.disabled ? \"- unavailable\" : \"\"}\r\n                    </option>\r\n                `;\r\n        }\r\n\r\n        function renderOptionSet(selectedOptions, optionSet, currentSelectionUnavailable) {\r\n            return `\r\n                <label>${optionSet.optionName}</label>\r\n                <select name=\"${optionSet.optionName}\"\r\n                    data-change=\"setSelectedOption(${optionSet.optionName}, this.value)\"\r\n                    style=\"${currentSelectionUnavailable[optionSet.optionName] ? \"text-decoration:line-through;\" : \"\"}\">\r\n                    <option value=\"\">-Select-</option>\r\n                    ${optionSet.optionValues.length > 0\r\n                        ? optionSet.optionValues.map(o => renderSelectListItem(selectedOptions[optionSet.optionName], o))\r\n                        : \"\"}\r\n                </select>\r\n            `;\r\n        }\r\n\r\n        function renderVariant(variant) {\r\n            return variant\r\n                ? `\r\n                    <li style=\"${variant.quantity === 0 ? \"color:red;\" : \"\"}\">\r\n                        ${variant.sku} \r\n                        <span>Qty: ${variant.quantity}</span>\r\n                    </li>\r\n                   `\r\n                : \"\";\r\n        }\r\n\r\n        return {\r\n            render(model, html) {\r\n                return html`\r\n                    <div>\r\n                        <h2>Demo</h2>\r\n                        <div class=\"option-sets\">\r\n                            ${model.optionSets.map(o => renderOptionSet(model.selectedOptions, o, model.currentSelectionUnavailable))}                        \r\n                        </div>\r\n                        <br>\r\n                        <button data-click=\"buyNow\" ${model.canBuyNow ? \"\" : \"disabled\"}>Buy Now</button>\r\n                        <br>\r\n                        <br>\r\n                        <a href=\"#\"\r\n                            data-click=\"toggleVariantSectionVisible\"\r\n                            style=\"${model.variants.length === 0 ? \"display:none;\" : \"\"}\">\r\n                            ${model.variantSectionVisible ? `- Hide variants` : `+ Show variants`}\r\n                        </a>\r\n                        <div style=\"${model.variantSectionVisible ? \"\" : \"display:none;\"}\">\r\n                            <div style=\"${model.variants.length === 0 ? \"display:none;\" : \"\"}\">\r\n                                <br>\r\n                                <h4>All variants</h4>\r\n                                <ul>\r\n                                    ${model.variants.map(renderVariant)}\r\n                                </ul>\r\n                            </div>\r\n                            <div style=\"${model.selectedVariant ? \"\" : \"display: none;\"}\">\r\n                                <h4>Selected variant</h4>\r\n                                <p>${model.selectedVariant && model.selectedVariant.sku}\r\n                                    <span>Qty: ${model.selectedVariant && model.selectedVariant.quantity}</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                `;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import comp from \"comp\";\r\nimport configData from \"./components/config-data\";\r\nimport demo from \"./components/demo\";\r\n\r\nfunction app() {\r\n\tcomp.create(\"configData\", configData.actions, configData.view, configData.model);\r\n\tcomp.create(\"demo\", demo.actions, demo.view, demo.model);\r\n}\r\n\r\napp();"],"names":["this","unwrapExports","createCommonjsModule","count","max","randoms","length","rand","Math","floor","random","indexOf","push","sort","optionValues","o","name","value","applyRule","rule","option","greyedOut","disabled","excluded","setRandomOutOfStock","variants","uniqueRandoms","map","i","quantity","setRandomNull","filter","v","validateCurrentSelection","currentDimension","selectedOptions","optionSets","currentSelectionUnavailable","Object","keys","x","variant","find","variantExtractor","assign","otherOptions","queryOptions","matchingVariants","validateOptionSets","ruleOutOfStock","optionName","j","optValue","variantGenerator","options","randomSamples","counter","usedSkus","set","values","nullCount","oosCount","parseFloat","toFixed","neo","sku","replace","variantCount","price","nullOptions","oosOptions","propList","every","getSelectedOptionsFromVariant","model","optionValueToSelectListItem","optionSet","sectionVisible","parseInt","ruleName","val","checked","preselectOptionsOnLoad","preselectOutOfStock","data","components","demo","importData","ruleNullVariant","renderOptionSet","renderRadioButtons","listName","item","defaultValue","html","rulesList","updateOptionSets","_model","ruleNull","selectedVariant","canBuyNow","key","variantSectionVisible","renderSelectListItem","selectedOption","className","renderVariant","app","create","configData","actions","view"],"mappings":"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"}